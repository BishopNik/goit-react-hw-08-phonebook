"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[204],{1204:function(n,t,e){e.r(t),e.d(t,{default:function(){return cn}});var i,r,a=e(2791),o=e(8687),d=function(n){return n.contacts.items},c=function(n){return n.contacts.isLoading},s=function(n){return n.contacts.error},u=e(1538),l=e(168),p=e(5867),x=p.ZP.label(i||(i=(0,l.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 15px;\n\twidth: 700px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tfont-size: 26px;\n\twidth: 375px;\n\n\t@media screen and (min-width: 768px) {\n\t\twidth: 700px;\n\t}\n"]))),m=p.ZP.input(r||(r=(0,l.Z)(["\n\tpadding: 10px 25px;\n\tborder-radius: ",";\n\tborder: none;\n\toutline: 2px solid lightgray;\n\tfont-size: 24px;\n\tcolor: blue;\n\tmargin-bottom: 30px;\n\twidth: 90%;\n\tbox-shadow: 1px 1px 4px 2px rgba(128, 128, 128, 0.5);\n"])),(function(n){return n.theme.spacing(1)})),h=function(n){return n.filter.value},f=e(1634),b=e(184);var g,w,v,Z,j,y,k=function(){var n=(0,o.I0)(),t=(0,o.v9)(h);return(0,b.jsxs)(x,{children:["Find contacts by name",(0,b.jsx)(m,{value:t,type:"text",name:"filter",autoComplete:"off",onChange:function(t){var e=t.target;return n((0,f.M6)(e.value))}})]})},z=e(9439),P=e(6493),C=e(1413),S=e(5705),E=(0,p.ZP)(S.l0)(g||(g=(0,l.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: flex-start;\n\tgap: ",";\n"])),(function(n){return n.theme.spacing(3)})),F=p.ZP.div(w||(w=(0,l.Z)(["\n\tdisplay: flex;\n\tgap: 10px;\n"]))),q=p.ZP.div(v||(v=(0,l.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 4px;\n"]))),A=(0,p.ZP)(S.gN)(Z||(Z=(0,l.Z)(["\n\twidth: 220px;\n\tmargin: 0;\n\tmargin-right: auto;\n\tpadding: ",";\n\tfont-size: 24px;\n\tcolor: darkblue;\n\tborder: none;\n\tbackground-color: transparent;\n\tborder-radius: 6px;\n\n\t&:focus {\n\t\toutline: 1px solid red;\n\t}\n"])),(function(n){return n.theme.spacing(3)})),N=p.ZP.label(j||(j=(0,l.Z)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: 15px;\n\twidth: fit-content;\n\tfont-size: 24px;\n\tfont-weight: 600;\n\tborder-radius: 6px;\n"]))),V=p.ZP.span(y||(y=(0,l.Z)(["\n\twidth: 85px;\n"]))),L=e(3329),I=e(9034),K=e(4472);var R,_,J=function(n){var t=(0,o.I0)(),e=(0,o.v9)(d),i=(0,o.v9)(s),r=(0,a.useState)({id:"",name:"",number:""}),u=(0,z.Z)(r,2),l=u[0],p=u[1],x=(0,a.useState)(!1),m=(0,z.Z)(x,2),h=m[0],f=m[1],g=(0,a.useState)(!1),w=(0,z.Z)(g,2),v=w[0],Z=w[1],j=(0,a.useRef)(null),y=(0,a.useRef)(null),k=(0,a.useRef)(null),P=(0,o.v9)(c),R=(0,S.TA)({initialValues:{id:n.id,name:n.name,number:n.number},onSubmit:function(n){_(n)}});(0,a.useEffect)((function(){var t=function(n){"Escape"===n.key&&(f(!1),R.setFieldValue("name",l.name),R.setFieldValue("number",l.number))};return p(n),document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[n,l.name,l.number,R]),(0,a.useEffect)((function(){P||Z(!1),i&&(R.setFieldValue("name",l.name),R.setFieldValue("number",l.number))}),[l.name,l.number,i,R,P]),(0,a.useEffect)((function(){h?(j.current.style="background-color: #fefbf0;",y.current.style="background-color: #fefbf0;",j.current.focus()):(j.current.style="background-color: transparent;",y.current.style="background-color: transparent;")}),[h]);var _=function(n){p(n),K.fK.validate(n).then((function(){(0,K.KW)(e,n.name,n.id)?(0,K.Sz)("Please change contacts."):(f(!1),k.current=t((0,I.fl)(n)),Z(!0))})).catch((function(n){(0,K.Sz)("Error: ".concat(n.errors))}))},J=!h&&!v,W=h&&!v;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(S.J9,{initialValues:{id:R.values.id,name:R.values.name,number:R.values.number},onSubmit:R.handleSubmit,children:(0,b.jsxs)(E,{children:[(0,b.jsxs)(q,{children:[(0,b.jsxs)(N,{ref:j,children:[(0,b.jsx)(V,{children:"Name:"}),(0,b.jsx)(A,(0,C.Z)((0,C.Z)({name:"name",type:"text"},R.getFieldProps("name")),{},{disabled:!h}))]}),(0,b.jsxs)(N,{ref:y,children:[(0,b.jsx)(V,{children:"Number:"}),(0,b.jsx)(A,(0,C.Z)((0,C.Z)({name:"number",type:"tel"},R.getFieldProps("number")),{},{disabled:!h}))]})]}),(0,b.jsxs)(F,{children:[W&&(0,b.jsx)(L.zx,{type:"submit",disabled:P,children:"\u2705"}),J&&(0,b.jsx)(L.zx,{type:"button",disabled:P,onClick:function(n){f(!0)},children:"Edit"}),v&&(0,b.jsx)(L.zx,{type:"button",disabled:!P,onClick:function(n){var t;null===(t=k.current)||void 0===t||t.abort()},children:"\u274c"}),(0,b.jsx)(L.zx,{id:n.id,type:"button",disabled:P,onClick:function(n){(0,K.Sq)(n),t((0,I.Yo)(n.target.id)),(0,K.Sz)("Contact deleted.")},children:"Delete"})]})]})})})},W=p.ZP.ul(R||(R=(0,l.Z)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 10px;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 0;\n"]))),M=p.ZP.li(_||(_=(0,l.Z)(["\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: ",";\n\tpadding-top: ",";\n\toutline: 1px solid lightgray;\n\tborder-radius: 8px;\n\n\t@media screen and (max-width: 767px) {\n\t\twidth: 97%;\n\t}\n\n\t@media screen and (min-width: 768px) and (max-width: 1279px) {\n\t\twidth: calc((100% - 10px) / 2);\n\t}\n\n\t@media screen and (min-width: 1280px) {\n\t\twidth: calc((100% - 20px) / 3);\n\t}\n"])),(function(n){return n.theme.spacing(6)}),(function(n){return n.theme.spacing(2)}));var $,B,D,T,Y,G=function(){var n=(0,o.I0)(),t=(0,o.v9)(h),e=(0,o.v9)(d),i=(0,a.useState)([]),r=(0,z.Z)(i,2),c=r[0],s=r[1];return(0,P.Z)((function(){var n=e?e.filter((function(n){return n.name.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())})).reverse():[];s(n)}),250,[e,t]),(0,a.useEffect)((function(){n((0,I.CL)())}),[n]),(0,b.jsx)(W,{children:null===c||void 0===c?void 0:c.map((function(n){var t=n.id,e=n.name,i=n.number;return(0,b.jsx)(M,{children:(0,b.jsx)(J,{id:t,name:e,number:i})},t)}))})},H=(0,p.ZP)(S.l0)($||($=(0,l.Z)(["\n\tbox-sizing: border-box;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tpadding: 20px 25px;\n\tborder: 1px solid rgba(0, 0, 0, 0.7);\n\tborder-radius: ",";\n\tbox-shadow: 0px 0px 8px 4px rgba(128, 128, 128, 0.5);\n\n\t@media screen and (min-width: 768px) {\n\t\tpadding: 40px 55px;\n\t}\n"])),(function(n){return n.theme.spacing(4)})),O=p.ZP.label(B||(B=(0,l.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 15px;\n\tmargin-right: auto;\n\tmargin-bottom: ",";\n\tfont-size: 24px;\n\tfont-weight: 600;\n\n\t@media screen and (max-width: 767px) {\n\t\twidth: 100%;\n\t}\n\n\t@media screen and (min-width: 768px) {\n\t\twidth: 90%;\n\t}\n"])),(function(n){return n.theme.spacing(9)})),Q=(0,p.ZP)(S.gN)(D||(D=(0,l.Z)(["\n\tpadding: 10px 25px;\n\tborder-radius: ",";\n\tborder: none;\n\toutline: 2px solid lightgray;\n\tfont-size: 24px;\n\tcolor: blue;\n"])),(function(n){return n.theme.spacing(1)})),U=p.ZP.button(T||(T=(0,l.Z)(["\n\tborder-radius: 6px;\n\tfont-size: 22px;\n\tborder: 1px solid rgba(0, 0, 0, 0.7);\n\tcursor: pointer;\n\tbox-shadow: 0px 0px 4px 2px rgba(128, 128, 128, 0.5);\n\ttransition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\tmin-width: 200px;\n\theight: 48px;\n\n\t&:hover {\n\t\tbackground-color: antiquewhite;\n\t\ttransition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\t}\n"]))),X=p.ZP.button(Y||(Y=(0,l.Z)(["\n\tborder-radius: 6px;\n\tfont-size: 22px;\n\tborder: 1px solid rgba(0, 0, 0, 0.7);\n\tcursor: pointer;\n\tbox-shadow: 0px 0px 4px 2px rgba(128, 128, 128, 0.5);\n\ttransition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\tmin-width: 50px;\n\theight: 48px;\n\tmargin-left: 10px;\n\twidth: fit-content;\n\n\t@media screen and (min-width: 768px) {\n\t\tmargin-left: 25px;\n\t}\n\n\t&:hover {\n\t\tbackground-color: antiquewhite;\n\t\ttransition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\t}\n"])));var nn,tn,en,rn,an=function(n){n.onSubmitForm;var t=(0,o.I0)(),e=(0,o.v9)(d),i=(0,o.v9)(c),r=(0,a.useRef)(null);return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(S.J9,{initialValues:{name:"",number:""},onSubmit:function(n,i){K.fK.validate(n).then((function(){!function(n){var i=n.name,a=n.number,o=(0,K.KW)(e,i);return o?(0,K.Sz)("".concat(i," is already in contacts.")):r.current=t((0,I.q3)({name:i,number:a})),o}(n)&&i.resetForm()})).catch((function(n){(0,K.Sz)("Error: ".concat(n.errors))}))},children:(0,b.jsxs)(H,{children:[(0,b.jsxs)(O,{children:["Name",(0,b.jsx)(Q,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+([' \\-]?[a-zA-Z\u0430-\u044f\u0410-\u042f ])*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,autoComplete:"off",placeholder:"Aneta"})]}),(0,b.jsxs)(O,{children:["Number",(0,b.jsx)(Q,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}[\\-.\\s]?\\(?\\d{1,3}\\)?[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,autoComplete:"off",placeholder:"48-787-453-876"})]}),(0,b.jsx)(U,{type:"submit",onClick:K.Sq,disabled:i,children:"Add contact"}),(0,b.jsx)(X,{type:"button",disabled:!i,onClick:function(n){var t;(0,K.Sq)(n),null===(t=r.current)||void 0===t||t.abort()},children:"\u274c"})]})})})},on=(p.ZP.div(nn||(nn=(0,l.Z)(["\n\tpadding: 0 30px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\n\t&:last-child {\n\t\tmargin-bottom: 40px;\n\t}\n\n\t@media screen and (max-width: 767px) {\n\t\twidth: 400px;\n\t}\n\n\t@media screen and (min-width: 768px) and (max-width: 1279px) {\n\t\twidth: 768px;\n\t}\n\n\t@media screen and (min-width: 1280px) {\n\t\twidth: 1280px;\n\t}\n"]))),p.ZP.h2(tn||(tn=(0,l.Z)(["\n\tmargin: 24px 0;\n\tpadding: 0 30px;\n\tfont-size: 36px;\n"])))),dn=p.ZP.div(en||(en=(0,l.Z)(["\n\twidth: 340px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\n\t@media screen and (min-width: 768px) {\n\t\twidth: 730px;\n\t}\n"])));p.ZP.div(rn||(rn=(0,l.Z)(["\n\twidth: 340px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\n\t@media screen and (min-width: 768px) {\n\t\twidth: 730px;\n\t}\n"])));var cn=function(){var n=(0,o.v9)(s),t=(0,o.I0)();return(0,a.useEffect)((function(){null!==n&&(0,K.Sz)("Error loading contacts: ".concat(n)),t((0,u.q$)())}),[t,n]),(0,b.jsxs)(L.W2,{children:[(0,b.jsxs)(dn,{children:[(0,b.jsx)(on,{children:"Phonebook"}),(0,b.jsx)(an,{})]}),(0,b.jsx)(dn,{children:(0,b.jsx)(on,{children:"Contacts"})}),(0,b.jsx)(k,{}),(0,b.jsx)(G,{})]})}}}]);
//# sourceMappingURL=204.d51d87f3.chunk.js.map